const _0x4cf0bd=_0x1c89;(function(_0x5e95cb,_0x3afcb9){const _0x1bb0f9=_0x1c89,_0x3bd608=_0x5e95cb();while(!![]){try{const _0x4b3ea1=-parseInt(_0x1bb0f9(0x19c))/(0x19f4+0x2558+-0x3*0x1519)+-parseInt(_0x1bb0f9(0x14f))/(0x4*-0x1b1+0x1124+-0xa5e)+parseInt(_0x1bb0f9(0x1a3))/(0x3*0x5e3+0x1c3*0x3+-0x16ef)*(parseInt(_0x1bb0f9(0x181))/(0x1*0xe13+0x1ac9*0x1+-0x28d8))+-parseInt(_0x1bb0f9(0x1cc))/(0xa90+0x1a5*0xa+-0x1afd)*(parseInt(_0x1bb0f9(0x130))/(-0x1*0x20dd+-0x7f2+0x28d5))+parseInt(_0x1bb0f9(0x151))/(-0xa8d+-0xe2b+0x23*0xb5)+-parseInt(_0x1bb0f9(0x1a6))/(-0x240c+-0x1a3f*0x1+0x3e53)+parseInt(_0x1bb0f9(0x17b))/(0x1d49+-0xd3+-0x17f*0x13)*(parseInt(_0x1bb0f9(0x17f))/(0x1415+-0x5c1+-0xe4a));if(_0x4b3ea1===_0x3afcb9)break;else _0x3bd608['push'](_0x3bd608['shift']());}catch(_0x5e46b3){_0x3bd608['push'](_0x3bd608['shift']());}}}(_0x12eb,0x5cb3*-0x23+0x87fbd+0x117eaa));const state={'viewer':null,'currentPitch':0x0,'currentYaw':0x0,'hotspots':[],'imageDataUrl':''},elements={'uploadImage':document[_0x4cf0bd(0x1a0)](_0x4cf0bd(0x1d5)),'sceneName':document[_0x4cf0bd(0x1a0)](_0x4cf0bd(0x19a)),'panorama':document['getElementById'](_0x4cf0bd(0xff)),'setStartView':document[_0x4cf0bd(0x1a0)]('setStartView'),'jsonOutput':document[_0x4cf0bd(0x1a0)](_0x4cf0bd(0x12c)),'hotspotContainer':document[_0x4cf0bd(0x1a0)]('hotspotContainer'),'downloadButton':document['getElementById'](_0x4cf0bd(0x1b7)),'resetHotspots':document[_0x4cf0bd(0x1a0)]('resetHotspots'),'resetAll':document[_0x4cf0bd(0x1a0)](_0x4cf0bd(0x14a)),'statusMessage':document[_0x4cf0bd(0x1a0)](_0x4cf0bd(0x10b)),'modal':document[_0x4cf0bd(0x1a0)](_0x4cf0bd(0x1d2)),'modalTypeSelect':document[_0x4cf0bd(0x1a0)](_0x4cf0bd(0x144)),'modalTextInput':document[_0x4cf0bd(0x1a0)]('modalTextInput'),'modalUrlInput':document[_0x4cf0bd(0x1a0)](_0x4cf0bd(0x1dd)),'modalSceneIdInput':document['getElementById']('modalSceneIdInput'),'modalSaveBtn':document['getElementById']('modalSaveBtn'),'modalCancelBtn':document[_0x4cf0bd(0x1a0)](_0x4cf0bd(0x1bd)),'urlGroup':document['querySelector'](_0x4cf0bd(0x16f)),'sceneGroup':document[_0x4cf0bd(0x15f)]('.scene-group')},templates={'hotspotItem':document[_0x4cf0bd(0x1a0)](_0x4cf0bd(0x142))};function initEventListeners(){const _0x3adb4c=_0x4cf0bd,_0x5a0444={'ZHVHx':function(_0x130cc9,_0x3bcb5d){return _0x130cc9===_0x3bcb5d;},'gXOlv':function(_0x2d6d68){return _0x2d6d68();},'hypDl':'dblclick','kSvLT':_0x3adb4c(0x1b8),'OvWVb':_0x3adb4c(0x1b3),'yXasN':_0x3adb4c(0x127),'WyqlK':_0x3adb4c(0x133)};elements['uploadImage'][_0x3adb4c(0x162)]('change',handleImageUpload),elements[_0x3adb4c(0xff)][_0x3adb4c(0x162)](_0x5a0444['hypDl'],handleDoubleClick),elements[_0x3adb4c(0x185)]['addEventListener'](_0x5a0444[_0x3adb4c(0x15a)],setStartView),elements[_0x3adb4c(0x19a)][_0x3adb4c(0x162)](_0x5a0444[_0x3adb4c(0x140)],updateJsonPreview),elements[_0x3adb4c(0x19a)][_0x3adb4c(0x162)](_0x3adb4c(0x127),validateSceneName),elements[_0x3adb4c(0x1c1)][_0x3adb4c(0x162)](_0x5a0444[_0x3adb4c(0x15a)],downloadJSON),elements[_0x3adb4c(0x190)][_0x3adb4c(0x162)](_0x5a0444[_0x3adb4c(0x15a)],confirmResetHotspots),elements[_0x3adb4c(0x14a)][_0x3adb4c(0x162)](_0x5a0444[_0x3adb4c(0x15a)],confirmResetAll),elements[_0x3adb4c(0x144)][_0x3adb4c(0x162)](_0x5a0444[_0x3adb4c(0x1e3)],toggleModalFields),elements[_0x3adb4c(0x148)][_0x3adb4c(0x162)](_0x5a0444[_0x3adb4c(0x15a)],saveHotspotChanges),elements[_0x3adb4c(0x1bd)][_0x3adb4c(0x162)](_0x5a0444['kSvLT'],closeModal),elements[_0x3adb4c(0x146)]['addEventListener'](_0x5a0444['kSvLT'],function(_0x19ef9f){const _0x420e9e=_0x3adb4c;if(_0x5a0444[_0x420e9e(0x1c0)](_0x19ef9f[_0x420e9e(0x138)],elements[_0x420e9e(0x146)]))_0x5a0444[_0x420e9e(0x163)](closeModal);}),document[_0x3adb4c(0x15f)](_0x5a0444[_0x3adb4c(0x169)])[_0x3adb4c(0x162)](_0x5a0444['kSvLT'],closeModal);}function init(){const _0x4b32ca=_0x4cf0bd,_0x28b070={'GgOcE':function(_0x2f2b93){return _0x2f2b93();}};toggleButtonsState(!![]),_0x28b070[_0x4b32ca(0x126)](initEventListeners);}function handleImageUpload(_0x191b50){const _0x42ee5c=_0x4cf0bd,_0x3300fa={'cpHRM':function(_0x54651e,_0x2b3000){return _0x54651e(_0x2b3000);},'jeccI':_0x42ee5c(0x1b6)},_0x3f2f59=_0x191b50[_0x42ee5c(0x138)][_0x42ee5c(0x15c)][0xe63+0xd01+-0x1b64];if(!_0x3f2f59)return;const _0x51eaf7=_0x3f2f59['name'][_0x42ee5c(0x122)](/\.[^/.]+$/,'');elements[_0x42ee5c(0x19a)]['value']=_0x51eaf7,elements['sceneName'][_0x42ee5c(0x176)](_0x3300fa[_0x42ee5c(0x1c3)],_0x51eaf7);const _0x32cd94=new FileReader();_0x32cd94[_0x42ee5c(0x161)]=function(_0x191caf){const _0x81dcd6=_0x42ee5c;state[_0x81dcd6(0x119)]=_0x191caf[_0x81dcd6(0x138)][_0x81dcd6(0x17a)],_0x3300fa[_0x81dcd6(0x14e)](initializeViewer,state[_0x81dcd6(0x119)]),_0x3300fa[_0x81dcd6(0x14e)](toggleButtonsState,![]);},_0x32cd94['readAsDataURL'](_0x3f2f59);}function initializeViewer(_0x420d7c){const _0x4cfa52=_0x4cf0bd,_0x1a70a2={'cGpNF':function(_0x138a1d){return _0x138a1d();},'zmdTy':'panorama','ENRms':'equirectangular','YGulj':_0x4cfa52(0x1c9),'gUUUN':_0x4cfa52(0x12f),'MtLON':function(_0x54c7cd){return _0x54c7cd();},'oHgIm':_0x4cfa52(0x16a)},_0x1429b6=_0x4cfa52(0x143)[_0x4cfa52(0x141)]('|');let _0x44758e=-0x191b*0x1+0x3cb+-0xb0*-0x1f;while(!![]){switch(_0x1429b6[_0x44758e++]){case'0':_0x1a70a2['cGpNF'](resetView);continue;case'1':state['viewer']=pannellum[_0x4cfa52(0x1be)](_0x1a70a2['zmdTy'],{'type':_0x1a70a2['ENRms'],'author':_0x1a70a2['YGulj'],'authorURL':_0x1a70a2[_0x4cfa52(0x187)],'panorama':_0x420d7c,'autoLoad':!![],'hotSpots':[],'showControls':!![],'orientationOnByDefault':!![],'showFullscreenCtrl':![],'showZoomCtrl':!![],'compass':!![],'hfov':0x64,'pitch':0x0,'yaw':0x0,'northOffset':0x0,'keyboardZoom':!![],'draggable':!![],'mouseZoom':!![],'minHfov':0x32,'maxHfov':0x78,'autoRotate':0x0,'doubleClickZoom':![],'hotSpotDebug':![],'animation':![]});continue;case'2':_0x1a70a2[_0x4cfa52(0x14d)](updateJsonPreview);continue;case'3':_0x1a70a2[_0x4cfa52(0x1df)](destroyViewer);continue;case'4':elements[_0x4cfa52(0xff)]['addEventListener'](_0x1a70a2[_0x4cfa52(0x13f)],handleDoubleClick);continue;}break;}}function destroyViewer(){const _0x8ea18=_0x4cf0bd,_0x42c005={'TYzSu':function(_0x4f05a3){return _0x4f05a3();}};if(state['viewer']){try{state['viewer'][_0x8ea18(0x1bb)]();}catch(_0x4caabe){console[_0x8ea18(0x117)](_0x8ea18(0x10c),_0x4caabe);}state[_0x8ea18(0x1cf)]=[],_0x42c005['TYzSu'](updateHotspotList);}}function setStartView(){const _0x242dca=_0x4cf0bd,_0x53d89c={'zoTUj':'1|0|4|2|3','NVLQM':function(_0x5c66f6,_0xb5f99){return _0x5c66f6(_0xb5f99);},'fBlSI':function(_0x2fbb45){return _0x2fbb45();}},_0x5300db=_0x53d89c['zoTUj'][_0x242dca(0x141)]('|');let _0x37d3be=0x1acb+-0x549+0x2*-0xac1;while(!![]){switch(_0x5300db[_0x37d3be++]){case'0':state['currentPitch']=state[_0x242dca(0x1be)][_0x242dca(0x1ba)]();continue;case'1':if(!state[_0x242dca(0x1be)]){showStatusMessage('Debes\x20cargar\x20una\x20imagen\x20primero',0x1212+0x9fe+-0x2*0x82c);return;}continue;case'2':_0x53d89c[_0x242dca(0x137)](showStatusMessage,_0x242dca(0x12b)+state['currentPitch'][_0x242dca(0x191)](0x277*-0xb+0x11ac+0x3b*0x29)+_0x242dca(0x102)+state[_0x242dca(0x1e2)][_0x242dca(0x191)](0x148b+-0x454*0x5+-0x1*-0x11b));continue;case'3':_0x53d89c[_0x242dca(0x178)](updateJsonPreview);continue;case'4':state['currentYaw']=state[_0x242dca(0x1be)][_0x242dca(0x194)]();continue;}break;}}function resetView(){const _0x533a7b=_0x4cf0bd;state['currentPitch']=0x1e59+-0x23*0xd1+-0xe3*0x2,state[_0x533a7b(0x1e2)]=0x1fc1+-0x50b+-0x1a*0x107;}function handleDoubleClick(_0x3a6200){const _0x55aa41=_0x4cf0bd,_0x3c2c64={'MSzrh':function(_0x501dd0,_0x23b9a9,_0x19bc92){return _0x501dd0(_0x23b9a9,_0x19bc92);},'tfwgP':'Error\x20al\x20obtener\x20coordenadas:','ZSitB':_0x55aa41(0x115)};if(!state[_0x55aa41(0x1be)])return;_0x3a6200[_0x55aa41(0x196)](),_0x3a6200[_0x55aa41(0x15b)]();try{const _0x39124d=state[_0x55aa41(0x1be)]['mouseEventToCoords'](_0x3a6200);if(_0x39124d&&_0x39124d[_0x55aa41(0x128)]===-0x161f+0x1aea+-0x1*0x4c9)_0x3c2c64['MSzrh'](addHotspot,_0x39124d[-0x2*0x62b+-0x21*-0x41+0x3f5*0x1],_0x39124d[-0xfb5*0x1+-0xe31+-0x5*-0x5fb]);else throw new Error('Coordenadas\x20inválidas');}catch(_0x5cae26){console[_0x55aa41(0x121)](_0x3c2c64[_0x55aa41(0x1e6)],_0x5cae26),showStatusMessage(_0x3c2c64[_0x55aa41(0x112)],0xa67*0x1+0x2011+-0x1ec0);}}function addHotspot(_0x440cec,_0x4d3902){const _0x31fc4e=_0x4cf0bd,_0x5274af={'YWzGp':function(_0x457017,_0x45d5ea){return _0x457017+_0x45d5ea;},'zwLJl':_0x31fc4e(0x149),'yRlmt':function(_0x1e731a,_0x3b5971){return _0x1e731a(_0x3b5971);},'zWKag':function(_0x654cdb){return _0x654cdb();},'PISJa':function(_0x4c36a5,_0x5e19bd){return _0x4c36a5(_0x5e19bd);},'KCDwk':_0x31fc4e(0x11e)};if(!state[_0x31fc4e(0x1be)])return;const _0x1b51fb=_0x31fc4e(0x1c8)+Date[_0x31fc4e(0x167)](),_0x15133d=_0x31fc4e(0x1e4)+_0x5274af[_0x31fc4e(0x19e)](state['hotspots'][_0x31fc4e(0x128)],-0x1bdc+-0x8b*-0x29+-0x1de*-0x3),_0x35f37c={'id':_0x1b51fb,'pitch':_0x440cec,'yaw':_0x4d3902,'type':_0x31fc4e(0x11d),'text':_0x5274af[_0x31fc4e(0x154)],'sceneId':_0x15133d,'cssClass':_0x31fc4e(0x103),'URL':''};state[_0x31fc4e(0x1cf)][_0x31fc4e(0x1ce)](_0x35f37c),_0x5274af[_0x31fc4e(0x170)](addHotspotToViewer,_0x35f37c),updateHotspotList(),_0x5274af[_0x31fc4e(0xfe)](updateJsonPreview),_0x5274af[_0x31fc4e(0x165)](showStatusMessage,_0x5274af[_0x31fc4e(0x139)]);}function addHotspotToViewer(_0x53cf53){const _0x562641=_0x4cf0bd,_0x2cc3cc={'id':_0x53cf53['id'],'pitch':_0x53cf53[_0x562641(0x1da)],'yaw':_0x53cf53[_0x562641(0x10f)],'cssClass':_0x562641(0x1bc)+_0x53cf53[_0x562641(0x10e)],'createTooltipFunc':createCustomTooltip,'createTooltipArgs':{'type':_0x53cf53[_0x562641(0x10e)],'text':_0x53cf53[_0x562641(0x17e)]},'clickHandlerFunc':()=>openHotspotModal(_0x53cf53['id'])};state[_0x562641(0x1be)][_0x562641(0x1c2)](_0x2cc3cc);}function createCustomTooltip(_0xca90d1,_0x444497){const _0x2420da=_0x4cf0bd,_0x4498a5={'maYrZ':function(_0x334f7c,_0x7de2d5){return _0x334f7c===_0x7de2d5;},'rzWqp':'info','gcsSV':_0x2420da(0x100),'BruzS':_0x2420da(0x1ae),'QucTm':_0x2420da(0x13a),'kcjNx':_0x2420da(0x1e8),'JYFdV':'translate(-50%,\x20-50%)','cCERf':_0x2420da(0x184),'AilxM':_0x2420da(0x1c6),'POLBF':_0x2420da(0x156),'LUNGF':_0x2420da(0x1ad),'PQGyO':_0x2420da(0x136),'yuGvW':'rgba(0,\x200,\x200,\x200.7)','thoaI':_0x2420da(0x111),'RIycS':'5px\x2010px','rmgYu':'5px','ZsTVY':_0x2420da(0x14c),'IVRLr':'14px','cvbXB':'mouseenter','TUVOp':'mouseleave'};_0xca90d1[_0x2420da(0x174)][_0x2420da(0x1d6)]('custom-hotspot',_0x444497[_0x2420da(0x10e)]);const _0x56edea={'backgroundColor':_0x4498a5[_0x2420da(0x153)](_0x444497[_0x2420da(0x10e)],_0x4498a5[_0x2420da(0x158)])?_0x4498a5[_0x2420da(0xfd)]:_0x4498a5[_0x2420da(0x113)],'border':_0x2420da(0x134),'borderRadius':_0x4498a5[_0x2420da(0x18e)],'width':_0x2420da(0x179),'height':_0x2420da(0x179),'boxShadow':_0x2420da(0x12e),'transition':_0x4498a5[_0x2420da(0x132)],'transform':_0x4498a5[_0x2420da(0x199)]};Object[_0x2420da(0x13c)](_0xca90d1[_0x2420da(0x1dc)],_0x56edea);const _0x1eb10e=document[_0x2420da(0x183)](_0x4498a5['cCERf']);_0x1eb10e[_0x2420da(0x1af)]=_0x444497['text'];const _0xcd17d2={'visibility':_0x4498a5['AilxM'],'position':_0x4498a5[_0x2420da(0x13e)],'top':_0x4498a5[_0x2420da(0x18b)],'left':_0x4498a5[_0x2420da(0x18e)],'transform':_0x4498a5['PQGyO'],'backgroundColor':_0x4498a5[_0x2420da(0x13d)],'color':_0x4498a5[_0x2420da(0x1b5)],'padding':_0x4498a5[_0x2420da(0x1db)],'borderRadius':_0x4498a5[_0x2420da(0x114)],'whiteSpace':_0x4498a5[_0x2420da(0x19d)],'fontSize':_0x4498a5[_0x2420da(0x182)],'zIndex':'10','transition':_0x4498a5[_0x2420da(0x132)]};Object[_0x2420da(0x13c)](_0x1eb10e[_0x2420da(0x1dc)],_0xcd17d2),_0xca90d1[_0x2420da(0x162)](_0x4498a5[_0x2420da(0x120)],()=>_0x1eb10e[_0x2420da(0x1dc)]['visibility']=_0x2420da(0x18a)),_0xca90d1[_0x2420da(0x162)](_0x4498a5[_0x2420da(0x1c4)],()=>_0x1eb10e[_0x2420da(0x1dc)][_0x2420da(0x1e5)]=_0x2420da(0x1c6)),_0xca90d1[_0x2420da(0x1d7)](_0x1eb10e);}function updateHotspotList(){const _0x3b20bf=_0x4cf0bd,_0x572690={'iCPsY':function(_0x2a9e9a,_0x1ac845){return _0x2a9e9a(_0x1ac845);},'LcTfJ':_0x3b20bf(0x1d9),'qDmrr':_0x3b20bf(0x1b8),'CmtIR':_0x3b20bf(0x1d4),'fFNEX':'.delete-button'};elements['hotspotContainer'][_0x3b20bf(0x1af)]='',state[_0x3b20bf(0x1cf)]['forEach'](_0x5ca1aa=>{const _0x32ac17=_0x3b20bf,_0x3f2a30={'FUNQf':function(_0x597a46,_0x254686){const _0x2d7954=_0x1c89;return _0x572690[_0x2d7954(0x147)](_0x597a46,_0x254686);}},_0x590f51=templates[_0x32ac17(0x150)][_0x32ac17(0x16c)][_0x32ac17(0x1a2)](!![]),_0x3526f0=_0x590f51[_0x32ac17(0x15f)](_0x32ac17(0x1e9));_0x3526f0['id']=_0x32ac17(0x155)+_0x5ca1aa['id'],_0x3526f0[_0x32ac17(0x177)]='hotspot-item\x20'+_0x5ca1aa['type'];const _0x1c9612=_0x3526f0['querySelector'](_0x32ac17(0x1ab));_0x1c9612[_0x32ac17(0x177)]=_0x32ac17(0x11a)+_0x5ca1aa[_0x32ac17(0x10e)];const _0x561cac=_0x3526f0[_0x32ac17(0x15f)]('.hotspot-coords');_0x561cac[_0x32ac17(0x131)]=_0x32ac17(0x1aa)+_0x5ca1aa[_0x32ac17(0x1da)][_0x32ac17(0x191)](0x1725+0x6f5*0x1+-0x14f*0x17)+_0x32ac17(0x1cb)+_0x5ca1aa[_0x32ac17(0x10f)][_0x32ac17(0x191)](0xa13*-0x3+-0x40+0x1e7a);const _0x4b311e=_0x3526f0[_0x32ac17(0x15f)](_0x572690['LcTfJ']);_0x4b311e[_0x32ac17(0x131)]=_0x5ca1aa[_0x32ac17(0x17e)];const _0x3d09fe=_0x3526f0[_0x32ac17(0x15f)]('.edit-button');_0x3d09fe['addEventListener'](_0x572690['qDmrr'],_0x4295b4=>{const _0x608a56=_0x32ac17;_0x4295b4[_0x608a56(0x15b)](),openHotspotModal(_0x5ca1aa['id']);});const _0x4d9a91=_0x3526f0[_0x32ac17(0x15f)](_0x572690[_0x32ac17(0x1a9)]);_0x4d9a91[_0x32ac17(0x162)](_0x32ac17(0x1b8),_0x2af6a0=>{const _0x4acfe4=_0x32ac17;_0x2af6a0[_0x4acfe4(0x15b)](),state[_0x4acfe4(0x1be)]['lookAt'](_0x5ca1aa[_0x4acfe4(0x1da)],_0x5ca1aa['yaw']);});const _0x16a570=_0x3526f0['querySelector'](_0x572690[_0x32ac17(0x189)]);_0x16a570[_0x32ac17(0x162)](_0x572690[_0x32ac17(0x110)],_0xa73c4b=>{const _0x5566f0=_0x32ac17;_0xa73c4b[_0x5566f0(0x15b)](),_0x3f2a30[_0x5566f0(0x145)](deleteHotspot,_0x5ca1aa['id']);}),_0x3526f0[_0x32ac17(0x162)](_0x572690[_0x32ac17(0x110)],()=>openHotspotModal(_0x5ca1aa['id'])),elements[_0x32ac17(0x1ac)][_0x32ac17(0x1d7)](_0x3526f0);});}function deleteHotspot(_0x169ad7){const _0xd3c7e1=_0x4cf0bd,_0x13183a={'ljqYw':function(_0x33fac6){return _0x33fac6();},'cIVia':function(_0x27a073,_0x1b0049){return _0x27a073(_0x1b0049);},'MQEZx':_0xd3c7e1(0x197)},_0x16a240=state[_0xd3c7e1(0x1cf)]['findIndex'](_0x528741=>_0x528741['id']===_0x169ad7);_0x16a240!==-(-0x12a5+0xcd6+0x5d0)&&(state[_0xd3c7e1(0x1be)]['removeHotSpot'](_0x169ad7),state[_0xd3c7e1(0x1cf)][_0xd3c7e1(0x107)](_0x16a240,-0xbbb+0x18e8*0x1+-0xd2c),_0x13183a[_0xd3c7e1(0x109)](updateHotspotList),updateJsonPreview(),_0x13183a[_0xd3c7e1(0x18f)](showStatusMessage,_0x13183a['MQEZx']));}function confirmResetHotspots(){const _0x27c00b=_0x4cf0bd,_0x4ad752={'nQwFZ':function(_0x37e3a4,_0x3731ff){return _0x37e3a4(_0x3731ff);},'Xfkfe':function(_0x3dc5af){return _0x3dc5af();}};_0x4ad752[_0x27c00b(0x13b)](confirm,_0x27c00b(0x106))&&(state[_0x27c00b(0x1cf)][_0x27c00b(0x1b4)](_0x213b8c=>state[_0x27c00b(0x1be)][_0x27c00b(0x198)](_0x213b8c['id'])),state[_0x27c00b(0x1cf)]=[],_0x4ad752[_0x27c00b(0x1e0)](updateHotspotList),_0x4ad752['Xfkfe'](updateJsonPreview),_0x4ad752['nQwFZ'](showStatusMessage,'Hotspots\x20eliminados'));}function confirmResetAll(){const _0x4c2b5c=_0x4cf0bd,_0x415e06={'nqAbE':function(_0x14fec2,_0x4f610f){return _0x14fec2(_0x4f610f);},'oFXxP':_0x4c2b5c(0x16b),'KkGmK':_0x4c2b5c(0x125)};_0x415e06[_0x4c2b5c(0x1e7)](confirm,_0x415e06[_0x4c2b5c(0x15e)])&&(elements['sceneName']['value']='',elements[_0x4c2b5c(0x12c)][_0x4c2b5c(0x131)]='',elements[_0x4c2b5c(0x1d5)][_0x4c2b5c(0x16d)]='',showStatusMessage(_0x415e06[_0x4c2b5c(0x1de)]));}function openHotspotModal(_0x107073){const _0x197152=_0x4cf0bd,_0x3077d3={'qtANa':_0x197152(0x10a),'dlXaz':function(_0x4b92b0){return _0x4b92b0();},'kfYik':_0x197152(0x129)},_0x14d7b7=state[_0x197152(0x1cf)][_0x197152(0x19f)](_0x137e46=>_0x137e46['id']===_0x107073);if(!_0x14d7b7)return;elements[_0x197152(0x146)][_0x197152(0x176)](_0x3077d3[_0x197152(0x164)],_0x107073),elements[_0x197152(0x144)][_0x197152(0x16d)]=_0x14d7b7[_0x197152(0x10e)],elements['modalTextInput'][_0x197152(0x16d)]=_0x14d7b7[_0x197152(0x17e)],elements['modalUrlInput']['value']=_0x14d7b7['URL']||'',elements[_0x197152(0x188)][_0x197152(0x16d)]=_0x14d7b7[_0x197152(0x11f)]||'',_0x3077d3['dlXaz'](toggleModalFields),elements['modal'][_0x197152(0x1dc)][_0x197152(0x1d3)]=_0x3077d3[_0x197152(0x104)];}function toggleModalFields(){const _0x5bd1c=_0x4cf0bd,_0x26687c={'ZzsXi':function(_0x3c35e2,_0x3a91f4){return _0x3c35e2===_0x3a91f4;},'oWxWu':_0x5bd1c(0x1b2),'lWunw':'flex','bQPfs':'none'},_0x557fa9=elements[_0x5bd1c(0x144)][_0x5bd1c(0x16d)];_0x26687c[_0x5bd1c(0x173)](_0x557fa9,_0x26687c[_0x5bd1c(0x159)])?(elements['urlGroup']['style'][_0x5bd1c(0x1d3)]='none',elements['sceneGroup'][_0x5bd1c(0x1dc)][_0x5bd1c(0x1d3)]=_0x26687c[_0x5bd1c(0x1e1)]):(elements[_0x5bd1c(0x124)][_0x5bd1c(0x1dc)][_0x5bd1c(0x1d3)]=_0x26687c[_0x5bd1c(0x1e1)],elements[_0x5bd1c(0x116)]['style'][_0x5bd1c(0x1d3)]=_0x26687c[_0x5bd1c(0x101)]);}function closeModal(){const _0x442c1b=_0x4cf0bd;elements[_0x442c1b(0x146)]['style']['display']=_0x442c1b(0x1e8);}function _0x1c89(_0x5bb262,_0x256a28){const _0x3f6b07=_0x12eb();return _0x1c89=function(_0x2dd5ed,_0x28b224){_0x2dd5ed=_0x2dd5ed-(-0x1+-0x1ad+0x2ab);let _0x58f052=_0x3f6b07[_0x2dd5ed];if(_0x1c89['KDQGLH']===undefined){var _0x2c541d=function(_0x265184){const _0x302bab='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x70b1b='',_0x100cc4='';for(let _0xec4fb=-0x661*0x5+-0xbf1+0x2bd6,_0x23b3c3,_0x5ce40b,_0x8df65=0x84a+0x83a*0x1+0xe*-0x12e;_0x5ce40b=_0x265184['charAt'](_0x8df65++);~_0x5ce40b&&(_0x23b3c3=_0xec4fb%(0xa*-0x72+0x3*0x15d+0x61)?_0x23b3c3*(-0x179d+0x53*-0x3a+0x2aab)+_0x5ce40b:_0x5ce40b,_0xec4fb++%(-0x71b+-0x2*0x3fa+0xe3*0x11))?_0x70b1b+=String['fromCharCode'](-0x1b7d+-0x31*0xd+0x1ef9&_0x23b3c3>>(-(-0x1800+-0x1*-0x17d2+0x10*0x3)*_0xec4fb&0xe2*-0x2a+-0x600+0xe5e*0x3)):-0x5d*0x65+0x1*0x2512+-0x61){_0x5ce40b=_0x302bab['indexOf'](_0x5ce40b);}for(let _0x1df56b=0x2589+0xe9*-0x25+-0x3dc,_0xf7b5c8=_0x70b1b['length'];_0x1df56b<_0xf7b5c8;_0x1df56b++){_0x100cc4+='%'+('00'+_0x70b1b['charCodeAt'](_0x1df56b)['toString'](0x12*-0x83+-0x2*-0x4d8+-0x6a*0x1))['slice'](-(-0xb8a+0x146f+-0x5*0x1c7));}return decodeURIComponent(_0x100cc4);};_0x1c89['DibfYj']=_0x2c541d,_0x5bb262=arguments,_0x1c89['KDQGLH']=!![];}const _0x1df30e=_0x3f6b07[0xcc7+-0x9*-0x1ab+-0x1*0x1bca],_0x159838=_0x2dd5ed+_0x1df30e,_0x43ae3e=_0x5bb262[_0x159838];return!_0x43ae3e?(_0x58f052=_0x1c89['DibfYj'](_0x58f052),_0x5bb262[_0x159838]=_0x58f052):_0x58f052=_0x43ae3e,_0x58f052;},_0x1c89(_0x5bb262,_0x256a28);}function saveHotspotChanges(){const _0x49157a=_0x4cf0bd,_0xe017e={'nfIgd':_0x49157a(0x10a),'BeJPT':function(_0x4eae64,_0x3d7d2e){return _0x4eae64===_0x3d7d2e;},'Ozgzo':_0x49157a(0x1b2),'JMIli':function(_0x52a37a,_0x3ff37a){return _0x52a37a(_0x3ff37a);},'nBXDf':function(_0x241a6a){return _0x241a6a();},'BFpQt':'Hotspot\x20actualizado'},_0x57635d=elements[_0x49157a(0x146)][_0x49157a(0x171)](_0xe017e[_0x49157a(0x157)]),_0x3d917f=state[_0x49157a(0x1cf)][_0x49157a(0x1bf)](_0x2beef4=>_0x2beef4['id']===_0x57635d);if(_0xe017e['BeJPT'](_0x3d917f,-(-0x60*0x12+-0x2*-0x12c6+0x1*-0x1ecb)))return;const _0x5c60af=state[_0x49157a(0x1cf)][_0x3d917f];_0x5c60af['type']=elements[_0x49157a(0x144)][_0x49157a(0x16d)],_0x5c60af[_0x49157a(0x17e)]=elements['modalTextInput']['value'],_0x5c60af['cssClass']=_0x49157a(0x1bc)+_0x5c60af[_0x49157a(0x10e)];if(_0xe017e[_0x49157a(0x193)](_0x5c60af['type'],_0x49157a(0x11d)))_0x5c60af[_0x49157a(0x166)]=elements[_0x49157a(0x1dd)][_0x49157a(0x16d)]||'';else _0x5c60af['type']===_0xe017e[_0x49157a(0x175)]&&(_0x5c60af['sceneId']=elements['modalSceneIdInput'][_0x49157a(0x16d)]||'');state['viewer'][_0x49157a(0x198)](_0x5c60af['id']),_0xe017e[_0x49157a(0x192)](addHotspotToViewer,_0x5c60af),_0xe017e[_0x49157a(0x1a8)](updateHotspotList),_0xe017e['nBXDf'](updateJsonPreview),_0xe017e['nBXDf'](closeModal),_0xe017e[_0x49157a(0x192)](showStatusMessage,_0xe017e[_0x49157a(0x1a7)]);}function updateJsonPreview(){const _0x19fc69=_0x4cf0bd,_0x1ccebe={'FnNcH':function(_0x2953e0,_0x2fc41b){return _0x2953e0===_0x2fc41b;},'pdXUk':'scene','AkPDo':'info','qQNJM':_0x19fc69(0x135)};if(!state[_0x19fc69(0x1be)])return;const _0x4476b1=elements[_0x19fc69(0x19a)][_0x19fc69(0x16d)][_0x19fc69(0x105)]()||'escena',_0x15d285=state[_0x19fc69(0x1cf)][_0x19fc69(0x1b0)](_0x32ec2b=>{const _0x31d6a3=_0x19fc69,_0x40083e={'pitch':_0x32ec2b['pitch'],'yaw':_0x32ec2b['yaw'],'type':_0x32ec2b[_0x31d6a3(0x10e)],'text':_0x32ec2b[_0x31d6a3(0x17e)]};if(_0x1ccebe[_0x31d6a3(0x17d)](_0x32ec2b[_0x31d6a3(0x10e)],_0x1ccebe['pdXUk']))_0x40083e[_0x31d6a3(0x11f)]=_0x32ec2b['sceneId'];else _0x1ccebe[_0x31d6a3(0x17d)](_0x32ec2b[_0x31d6a3(0x10e)],_0x1ccebe[_0x31d6a3(0x123)])&&(_0x40083e[_0x31d6a3(0x166)]=_0x32ec2b[_0x31d6a3(0x166)]||'');return _0x40083e;}),_0x5bb46e={[_0x4476b1]:{'type':_0x19fc69(0x186),'multiRes':{'path':'/'+_0x4476b1+_0x19fc69(0x108),'fallbackPath':_0x19fc69(0x172),'extension':_0x1ccebe[_0x19fc69(0x11c)],'tileResolution':0x200,'maxLevel':0x3,'cubeResolution':0x788},'pitch':state[_0x19fc69(0x1a4)],'yaw':state['currentYaw'],'hotSpots':_0x15d285}};elements[_0x19fc69(0x12c)][_0x19fc69(0x131)]=JSON[_0x19fc69(0x118)](_0x5bb46e,null,-0x10*-0x203+-0x1af2*-0x1+-0x3b20);}function downloadJSON(){const _0x135ad9=_0x4cf0bd,_0xec49e5={'oYvSm':function(_0x5671eb,_0x22eefb,_0x310b0f){return _0x5671eb(_0x22eefb,_0x310b0f);},'yqAOz':function(_0x2d3863,_0x3234fe){return _0x2d3863===_0x3234fe;},'HTTfq':function(_0x3d5751,_0x187ea7){return _0x3d5751(_0x187ea7);},'fpcvR':_0x135ad9(0x1a5),'znRRl':function(_0x2f643d,_0x3a8749,_0x2a5480){return _0x2f643d(_0x3a8749,_0x2a5480);},'piXIo':_0x135ad9(0x18c),'EnCcs':_0x135ad9(0x1e4),'sUnSM':function(_0x533a3b,_0x4811d5){return _0x533a3b(_0x4811d5);},'xtWms':'JSON\x20descargado'},_0xf8d2db=elements['jsonOutput'][_0x135ad9(0x131)];if(!_0xf8d2db){_0xec49e5[_0x135ad9(0x1ca)](showStatusMessage,'No\x20hay\x20datos\x20para\x20descargar',0x13a*-0x1+0xbb8+0xe*-0x31);return;}if(_0xec49e5['yqAOz'](state[_0x135ad9(0x1a4)],-0x46e+-0x1ac8+-0xeb*-0x22)&&state[_0x135ad9(0x1e2)]===-0x1fdb+0x1ab*-0x11+0x3c36){const _0x229470=_0xec49e5[_0x135ad9(0x1cd)](confirm,_0xec49e5[_0x135ad9(0x195)]);if(!_0x229470){_0xec49e5[_0x135ad9(0x12a)](showStatusMessage,_0xec49e5[_0x135ad9(0x17c)],0x1*-0x1525+0x22f9+0x1cc);return;}}const _0x297acc=new Blob([_0xf8d2db],{'type':'application/json'}),_0x1dff77=URL[_0x135ad9(0x10d)](_0x297acc),_0x5b5418=document[_0x135ad9(0x183)]('a');_0x5b5418[_0x135ad9(0x1c7)]=_0x1dff77,_0x5b5418[_0x135ad9(0x15d)]=(elements[_0x135ad9(0x19a)]['value']||_0xec49e5[_0x135ad9(0x11b)])+_0x135ad9(0x19b),_0x5b5418['click'](),URL[_0x135ad9(0x1d1)](_0x1dff77),_0xec49e5['sUnSM'](showStatusMessage,_0xec49e5[_0x135ad9(0x1d0)]);}function showStatusMessage(_0x4476f3,_0x5d701d=-0x1913+-0x311+0x27dc){const _0x3fe272=_0x4cf0bd,_0x2dbb9c={'eCzoj':_0x3fe272(0x1e8),'Pobtk':_0x3fe272(0x18d),'UowzA':function(_0x3702d7,_0x1d343e){return _0x3702d7(_0x1d343e);}};elements['statusMessage']['textContent']=_0x4476f3,elements['statusMessage'][_0x3fe272(0x1dc)][_0x3fe272(0x1d3)]=_0x2dbb9c[_0x3fe272(0x152)],_0x2dbb9c['UowzA'](clearTimeout,elements[_0x3fe272(0x10b)][_0x3fe272(0x1a1)]),elements['statusMessage'][_0x3fe272(0x1a1)]=setTimeout(()=>{const _0x1803d2=_0x3fe272;elements[_0x1803d2(0x10b)][_0x1803d2(0x1dc)][_0x1803d2(0x1d3)]=_0x2dbb9c[_0x1803d2(0x1b9)];},_0x5d701d);}function toggleButtonsState(_0x5702fe){const _0x1e2354=_0x4cf0bd;elements[_0x1e2354(0x185)][_0x1e2354(0x1d8)]=_0x5702fe,elements['downloadButton']['disabled']=_0x5702fe,elements[_0x1e2354(0x190)][_0x1e2354(0x1d8)]=_0x5702fe,elements[_0x1e2354(0x14a)]['disabled']=_0x5702fe;}init();function validateSceneName(){const _0x198870=_0x4cf0bd,_0x243052={'zgYWv':_0x198870(0x1b6),'isTPe':function(_0x5d282,_0x17ffd9){return _0x5d282(_0x17ffd9);},'exuho':function(_0x3598e3,_0x28b7e2){return _0x3598e3+_0x28b7e2;},'SsgQN':'ADVERTENCIA:\x20La\x20escena\x20debe\x20tener\x20el\x20mismo\x20nombre\x20que\x20la\x20imagen.\x0a\x0a','GxLjR':_0x198870(0x168),'tIFdD':function(_0x41a408){return _0x41a408();}},_0x4f4018=elements['sceneName'][_0x198870(0x171)](_0x243052[_0x198870(0x1c5)]),_0x412ab3=elements[_0x198870(0x19a)][_0x198870(0x16d)][_0x198870(0x105)]();if(_0x4f4018&&_0x412ab3!==_0x4f4018){const _0x40b8bb=_0x243052[_0x198870(0x16e)](confirm,_0x243052[_0x198870(0x12d)](_0x243052['exuho'](_0x243052['SsgQN'],'Nombre\x20de\x20imagen:\x20'+_0x4f4018+'\x0a')+(_0x198870(0x180)+_0x412ab3+'\x0a\x0a'),_0x243052[_0x198870(0x14b)]));!_0x40b8bb&&(elements['sceneName']['value']=_0x4f4018,_0x243052[_0x198870(0x160)](updateJsonPreview));}}window[_0x4cf0bd(0x162)](_0x4cf0bd(0x121),function(_0x1807a3){const _0x1722f3=_0x4cf0bd,_0x4375d2={'Erucz':'Error\x20global\x20capturado:'};console[_0x1722f3(0x121)](_0x4375d2[_0x1722f3(0x1b1)],_0x1807a3['message']),showStatusMessage('Error\x20inesperado.\x20Si\x20el\x20problema\x20persiste,\x20recarga\x20la\x20página.',-0xd84+0x8*-0x46c+0x446c);});function _0x12eb(){const _0x32add8=['ug9IDgS','BwfzCLO','ENDmsMW','Ag90C3bVDc1PDgvTlq','ywjZB2X1Dgu','BMzjz2q','CNPxCxa','B1D4v3u','A1n2tfq','C3rVCfbYB3bHz2f0Aw9U','zMLSzxm','zg93BMXVywq','B0zyEfa','CxvLCNLtzwXLy3rVCG','DeLgzeq','B25SB2fK','ywrKrxzLBNrmAxn0zw5LCG','z1HpBhy','CxrbtMe','ueLtsMe','vvjm','BM93','WR9dB250Aw51yxiGy29UigvZDguGy2fTyMLVigrLig5VBwjYzt8','v3LXBeS','zgjSy2XPy2S','WR9tzwD1CM8GCxvLihf1AwvYzxmGCMvPBMLJAwfYihrVzg8/ifnLihbLCMrLCSoHBIb0B2rVCYbSB3mGzgf0B3mU','y29UDgvUDa','DMfSDwu','Axnuugu','lNvYBc1NCM91Ca','EvjSBxq','z2v0qxr0CMLIDxrL','l2zHBgXIywnRlYvZ','wNPZwgK','y2XHC3nmAxn0','t3PNEM8','C2v0qxr0CMLIDxrL','y2XHC3noyw1L','zKjSu0K','mJbWEa','CMvZDwX0','mZmZwvfmDhPy','CgLysw8','rM5oy0G','Dgv4Da','mtmYotCWuezLtKPT','tM9TyNjLigrLigvZy2vUysbHy3r1ywW6ia','mta4y1b3BKHg','svzsthi','y3jLyxrLrwXLBwvUDa','C3bHBG','C2v0u3rHCNrwAwv3','BxvSDgLYzxm','z1vvvu4','Bw9KywXty2vUzuLKsw5WDxq','zKzorvG','DMLZAwjSzq','tfvor0y','rgvZy2fYz2eGy2fUy2vSywrHlIbfC3rHyMXLy2uGBgeGDMLZDgeGAw5Py2LHBcbJB24GzwWGyM90W7nUicDfC3rHyMXLy2vYihzPC3rHigLUAwnPywWN','yMXVy2S','uxvJvg0','y0LwAwe','CMvZzxriB3rZCg90CW','Dg9gAxHLza','sK1jBgK','qMvkufq','z2v0wwf3','zNbJDLi','ChjLDMvUDerLzMf1Bhq','sg90C3bVDcbLBgLTAw5Hzg8','CMvTB3zLsg90u3bVDa','sLLgzfy','C2nLBMvoyw1L','lMPZB24','nJa5mdm2tgP3q3nv','wNnuvLK','wvD6r3a','zMLUza','z2v0rwXLBwvUDej5swq','DgLTzxjjza','y2XVBMvoB2rL','mtq0nda4r2fkDuP4','y3vYCMvUDfbPDgnO','tM8GAgfZigvZDgfIBgvJAwrVihvUysb2Axn0ysbPBMLJAwfSihbLCNnVBMfSAxPHzgeUifnLihvZyxldOsbSysb2Axn0ysbWB3iGzgvMzwn0BYaOugL0y2G6idaSifLHDZOGmcKUcGRcV0nVBNrPBNvHCIbJB24GBgeGzgvZy2fYz2e/','mJKWmtG4mgz3r0vcza','qKzWuxq','BKjyrgy','q210svi','udOG','lMHVDhnWB3qTDhLWzs1PBMrPy2f0B3i','Ag90C3bVDenVBNrHAw5LCG','ltuWChG','CMDIysGYmZaSideYnIWGmZqSidaUocK','Aw5Uzxjive1m','BwfW','rxj1y3O','C2nLBMu','Aw5WDxq','zM9YrwfJAa','DgHVyuK','zgf0ys1VCMLNAw5HBc1Uyw1L','zg93BMXVywrkC29U','y2XPy2S','zun6B2O','z2v0ugL0y2G','zgvZDhjVEq','y3vZDg9TlwHVDhnWB3qG','Bw9KywXdyw5JzwXcDg4','DMLLD2vY','zMLUzeLUzgv4','wKHwshG','zg93BMXVywrcDxr0B24','ywrKsg90u3bVDa','AMvJy0K','vfvwt3a','EMDzv3y','AgLKzgvU','AhjLzG','Ag90C3bVDf8','ugfIBg8Gr296W6fSDMv6','B1L2u20','lcbzoIa','mtK1sMvkCNbi','sfruzNe','ChvZAa','Ag90C3bVDhm','EhrxBxm','CMv2B2TLt2jQzwn0vvjm','Ag90C3bVDe1VzgfS','zgLZCgXHEq','lMnLBNrLCI1IDxr0B24','DxbSB2fKsw1Hz2u','ywrK','yxbWzw5Kq2HPBgq','zgLZywjSzwq','lMHVDhnWB3qTDgv4Dc1WCMv2Awv3','CgL0y2G','uKL5y1m','C3r5Bgu','Bw9KywXvCMXjBNb1Da','s2ThBuS','y0DWtKy','wgzRzMu','BfD1BNC','y3vYCMvUDfLHDW','EvHHC04','zxnJzw5H','DMLZAwjPBgL0Eq','Dgz3z1a','BNfbyKu','BM9Uzq','lMHVDhnWB3qTAxrLBq','z2nZu1y','ELDlywC','CgfUB3jHBwe','CMDIysG1mIWGmtuYlcaYmtKSidaUocK','yLfqzNm','lcbzyxC6ia','y3vZDg9TlwHVDhnWB3qGAw5MBW','A2zzAwS','DhjPBq','WR9tzwD1CM8GCxvLihf1AwvYzxmGzwXPBwLUyxiGDg9KB3mGBg9ZigHVDhnWB3rZpW','C3bSAwnL','lYvSlYvZjxLFjxG','BgPXwxC','zgf0ys1OB3rZCg90lwLK','C3rHDhvZtwvZC2fNzq','rxjYB3iGywWGzgvZDhj1AxiGzwWGDMLZB3i6','y3jLyxrLt2jQzwn0vvjm','DhLWzq','Ewf3','CurTCNi','D2HPDgu','wLnPDei','qNj1ELm','CM1Nwxu','rxjYB3iGywWGyCoXywrPCIbOB3rZCg90lIbjBNtdQw50ywXVigrLig51zxzVlG','C2nLBMvhCM91Ca','D2fYBG','C3rYAw5NAwz5','Aw1Hz2veyxrHvxjS','Ag90C3bVDc10ExbLlwLUzgLJyxrVCIa','rw5dy3m','CvfosK0','Aw5MBW','sg90C3bVDcbHW7fHzgLKBW','C2nLBMvjza','y3zIwei','zxjYB3i','CMvWBgfJzq','qwTqrg8','DxjSr3jVDxa','uMvPBMLJAwfKBYbJB3jYzwn0yw1LBNrL','r2Dpy0u','y2HHBMDL','BgvUz3rO','zMXLEa','EM5suMW','vMLZDgeGAw5Py2LHBcbLC3rHyMXLy2LKytOGugL0y2G6ia','ANnVBK91Dhb1Da','zxH1Ag8','mcaWideYChGGCMDIysGWlcaWlcaWlcaWlJuP','Ahr0Chm6lY9WywjSB2DVEMfSDMv6lMnVBq','nZi2ntrNALPOuuK','Dgv4DenVBNrLBNq','A2nQtNG','lMnSB3nLlw1VzgfS','mNb4ihnVBgLKihDOAxrL','ANbN','DhjHBNnSyxrLwcGTntaLkq','tLzmuu0','DgfYz2v0','s0neD2S','ntaL','BLf3rLO','yxnZAwDU','ExvhDLC','ue9mqKy','B0HNsw0','t3zxvMi','C3bSAxq','Ag90C3bVDeL0zw1uzw1WBgf0zq','m3WXFdr8mhWY','Bw9KywXuExbLu2vSzwn0','rLvouwy','Bw9KywW','AunqC1K','Bw9KywXtyxzLqNrU','sw5MB3jTywnPW7nU','CMvZzxrbBgW','r3HmALi','BM93CMfW','txrmt04','y3biuK0','mtm2nJCWohvIEwnxEa','Ag90C3bVDeL0zw0','odq2mdu5oxbMwufuta'];_0x12eb=function(){return _0x32add8;};return _0x12eb();}