const _0x32cc00=_0x5a8f;(function(_0x25a463,_0x3d2811){const _0x5305b7=_0x5a8f,_0x451451=_0x25a463();while(!![]){try{const _0xbc5664=parseInt(_0x5305b7(0x26c))/0x1*(parseInt(_0x5305b7(0x1cc))/0x2)+parseInt(_0x5305b7(0x211))/0x3+parseInt(_0x5305b7(0x25c))/0x4+-parseInt(_0x5305b7(0x267))/0x5+parseInt(_0x5305b7(0x1d6))/0x6+parseInt(_0x5305b7(0x1d1))/0x7+-parseInt(_0x5305b7(0x1ed))/0x8;if(_0xbc5664===_0x3d2811)break;else _0x451451['push'](_0x451451['shift']());}catch(_0x331363){_0x451451['push'](_0x451451['shift']());}}}(_0x8cc7,0xe0d94));let viewer=null,currentPitch=0x0,currentYaw=0x0,hotspots=[],imageDataUrl='';const uploadImageEl=document['getElementById'](_0x32cc00(0x225)),sceneNameEl=document[_0x32cc00(0x22c)](_0x32cc00(0x25f)),panoramaEl=document[_0x32cc00(0x22c)](_0x32cc00(0x23d)),setStartViewEl=document['getElementById']('setStartView'),jsonOutputEl=document[_0x32cc00(0x22c)](_0x32cc00(0x1da)),hotspotContainerEl=document[_0x32cc00(0x22c)](_0x32cc00(0x1ce)),downloadButtonEl=document['querySelector']('#downloadJson'),resetHotspotsEl=document['querySelector']('#resetHotspots'),resetAllEl=document[_0x32cc00(0x1ea)](_0x32cc00(0x26d));uploadImageEl[_0x32cc00(0x257)](_0x32cc00(0x1dd),handleImageUpload),panoramaEl[_0x32cc00(0x257)]('dblclick',handleDoubleClick),setStartViewEl[_0x32cc00(0x257)]('click',setStartView),sceneNameEl[_0x32cc00(0x257)](_0x32cc00(0x239),updateJsonPreview),downloadButtonEl[_0x32cc00(0x257)]('click',downloadJSON),document['getElementById']('resetHotspots')['addEventListener'](_0x32cc00(0x246),function(){const _0x5bc67c=_0x32cc00;confirm('¿Estás\x20seguro\x20de\x20que\x20deseas\x20eliminar\x20todos\x20los\x20hotspots?')&&(hotspots[_0x5bc67c(0x251)](_0x282e38=>viewer[_0x5bc67c(0x21e)](_0x282e38['id'])),hotspots=[],updateHotspotList(),updateJsonPreview(),showStatusMessage(_0x5bc67c(0x207)));}),document[_0x32cc00(0x22c)](_0x32cc00(0x24d))['addEventListener'](_0x32cc00(0x246),function(){const _0x213356=_0x32cc00;confirm(_0x213356(0x24e))&&(destroyViewer(),toggleButtonsState(!![]),sceneNameEl[_0x213356(0x220)]='',jsonOutputEl[_0x213356(0x25a)]='',uploadImageEl[_0x213356(0x220)]='',showStatusMessage(_0x213356(0x272)));}),toggleButtonsState(!![]);function handleImageUpload(_0x19fdfe){const _0x82803f=_0x32cc00,_0x153a3b=_0x19fdfe['target'][_0x82803f(0x218)][0x0];if(!_0x153a3b)return;const _0x49a381=new FileReader();_0x49a381[_0x82803f(0x1e0)]=function(_0x1b9bbe){const _0x40ed79=_0x82803f;imageDataUrl=_0x1b9bbe[_0x40ed79(0x1f7)][_0x40ed79(0x209)],initializeViewer(imageDataUrl),toggleButtonsState(![]);},_0x49a381['readAsDataURL'](_0x153a3b);}function initializeViewer(_0x11bfb2){const _0x16269f=_0x32cc00;destroyViewer(),viewer=pannellum['viewer']('panorama',{'type':_0x16269f(0x254),'author':_0x16269f(0x23b),'authorURL':_0x16269f(0x1ca),'panorama':_0x11bfb2,'autoLoad':!![],'hotSpots':[],'showControls':!![],'orientationOnByDefault':!![],'showFullscreenCtrl':![],'showZoomCtrl':!![],'compass':![],'hfov':0x64,'pitch':0x0,'yaw':0x0,'northOffset':0x0,'keyboardZoom':!![],'draggable':!![],'mouseZoom':!![],'minHfov':0x32,'maxHfov':0x78,'autoRotate':0x0,'doubleClickZoom':![],'hotSpotDebug':![]}),resetView(),updateJsonPreview();}function destroyViewer(){const _0x35b6fb=_0x32cc00;viewer&&(viewer[_0x35b6fb(0x271)](_0x35b6fb(0x1fe),handleDoubleClick),viewer['destroy'](),hotspots=[],updateHotspotList());}function handleDoubleClick(_0x28c248){const _0x4ad9c6=_0x32cc00;if(!viewer)return;_0x28c248[_0x4ad9c6(0x273)](),_0x28c248[_0x4ad9c6(0x275)]();try{const _0x210f13=viewer[_0x4ad9c6(0x216)](_0x28c248);if(_0x210f13&&_0x210f13['length']===0x2)addHotspot(_0x210f13[0x0],_0x210f13[0x1]);else throw new Error('Coordenadas\x20inválidas');}catch(_0x368f99){console[_0x4ad9c6(0x247)](_0x4ad9c6(0x22d),_0x368f99),showStatusMessage(_0x4ad9c6(0x219),0xbb8);}}function setStartView(){const _0x27c417=_0x32cc00;if(!viewer){alert(_0x27c417(0x26e));return;}currentPitch=viewer[_0x27c417(0x217)](),currentYaw=viewer[_0x27c417(0x224)](),showStatusMessage(_0x27c417(0x22a)+currentPitch[_0x27c417(0x265)](0x2)+_0x27c417(0x248)+currentYaw[_0x27c417(0x265)](0x2)),updateJsonPreview();}function _0x8cc7(){const _0x171789=['SceneId:','position','removeHotSpot','body','value','URL:','createObjectURL','length','getYaw','uploadImage','zIndex','Tipo:','href','translateX(-50%)','Vista\x20inicial\x20establecida:\x20Pitch:\x20','hotspot-item-','getElementById','Error\x20al\x20obtener\x20coordenadas:','visible','status-message','hotspot-info','modal-body','hotspot-item\x20','JSON\x20descargado\x20correctamente','white','P:\x20','style','createElement','input[placeholder=\x22https://...\x22]','input','5px','Pablo\x20Gozálvez','modal-header','panorama','borderRadius','findIndex','lookAt','hidden','edit-button','modal-overlay','download','.hotspot-text-preview','click','error',',\x20Yaw:\x20','custom-hotspot\x20info','fontSize','revokeObjectURL','URL','resetAll','¿Estás\x20seguro\x20de\x20que\x20deseas\x20reiniciar\x20todo?\x20Se\x20perderán\x20todos\x20los\x20cambios.',',\x20Y:\x20','20px','forEach','timerId','transform','equirectangular','now','display','addEventListener','border','getAttribute','textContent','hotspot-actions','2285372NvSJHe','hotspotModal','none','sceneName','info','custom-hotspot','hotspot-item\x20info','nowrap','.jpg','toFixed','Eliminar','4383140EoNAEo','>Información</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22scene\x22\x20','modal-content','input-label\x20scene-id-label','center-button','709CXpFcd','#resetAll','Por\x20favor,\x20carga\x20una\x20imagen\x20primero.','padding','input-label\x20url-label','off','Todo\x20ha\x20sido\x20reiniciado\x20correctamente','preventDefault','ID\x20de\x20escena','stopPropagation','appendChild','disabled','div','hotspot-coords','visibility','sceneId','.scene-id-label','input-label','https://pablogozalvez.com','0\x200\x2012px\x20rgba(0,\x200,\x200,\x200.5)','4156zlkppD','trim','hotspotContainer','placeholder','map','955486txlJaF','close-modal','Editar\x20Hotspot','.url-label','classList','4662768wFcMek','block','modal-title','Información','jsonOutput','No\x20hay\x20datos\x20para\x20descargar','yaw','change','button','top','onload','input[placeholder=\x22Texto\x20del\x20hotspot\x22]','data-hotspot-id','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22info\x22\x20','height','addHotSpot','.json','modalBody','5px\x2010px','<strong>Posición:</strong>\x20Pitch:\x20','querySelector','input-group','2px\x20solid\x20white','11644312bmLMut','width','.container','escena','splice','Centrar','mouseenter','modal-coords','-50px','input[placeholder=\x22ID\x20de\x20escena\x22]','target','Se\x20ha\x20producido\x20un\x20error.\x20Por\x20favor,\x20recarga\x20la\x20página.','cssClass','Error\x20global\x20capturado:','scene','type','innerHTML','dblclick','message','color','https://...','pitch','span','&times;','select','hotspot-type-indicator\x20','Todos\x20los\x20hotspots\x20han\x20sido\x20eliminados','application/json','result','text','50%','custom-hotspot\x20','delete-button','.hotspot-type-indicator','boxShadow','rgba(230,\x20126,\x2034,\x200.8)','884628gFoQCT','modal-footer','left','statusMessage','Guardar\x20cambios','mouseEventToCoords','getPitch','files','Error\x20al\x20añadir\x20hotspot.\x20Inténtalo\x20de\x20nuevo.','className','Texto:'];_0x8cc7=function(){return _0x171789;};return _0x8cc7();}function resetView(){currentPitch=0x0,currentYaw=0x0;}function updateJsonPreview(){const _0x1d7fc5=_0x32cc00;if(!viewer)return;const _0x48960f=sceneNameEl[_0x1d7fc5(0x220)][_0x1d7fc5(0x1cd)]()||_0x1d7fc5(0x1f0),_0x208355=hotspots[_0x1d7fc5(0x1d0)](_0x1d1aca=>{const _0x1b1816=_0x1d7fc5,_0x5bcf72={'pitch':_0x1d1aca[_0x1b1816(0x202)],'yaw':_0x1d1aca['yaw'],'type':_0x1d1aca[_0x1b1816(0x1fc)],'text':_0x1d1aca[_0x1b1816(0x20a)]};if(_0x1d1aca[_0x1b1816(0x1fc)]===_0x1b1816(0x1fb))_0x5bcf72['sceneId']=_0x1d1aca['sceneId'];else _0x1d1aca['type']===_0x1b1816(0x260)&&(_0x5bcf72[_0x1b1816(0x24c)]=_0x1d1aca[_0x1b1816(0x24c)]||'');return _0x5bcf72;}),_0x389f5e={[_0x48960f]:{'type':_0x1d7fc5(0x254),'panorama':_0x48960f+_0x1d7fc5(0x264),'pitch':currentPitch,'yaw':currentYaw,'hotSpots':_0x208355}};jsonOutputEl[_0x1d7fc5(0x25a)]=JSON['stringify'](_0x389f5e,null,0x2);}function downloadJSON(){const _0x39fb96=_0x32cc00,_0x127265=jsonOutputEl['textContent'];if(!_0x127265){showStatusMessage(_0x39fb96(0x1db),0x7d0);return;}const _0x1b40ce=new Blob([_0x127265],{'type':_0x39fb96(0x208)}),_0x2bb119=URL[_0x39fb96(0x222)](_0x1b40ce),_0x32cd5a=document[_0x39fb96(0x237)]('a');_0x32cd5a[_0x39fb96(0x228)]=_0x2bb119,_0x32cd5a[_0x39fb96(0x244)]=(sceneNameEl[_0x39fb96(0x220)]||'escena')+_0x39fb96(0x1e6),_0x32cd5a[_0x39fb96(0x246)](),URL[_0x39fb96(0x24b)](_0x2bb119),showStatusMessage(_0x39fb96(0x233));}function showStatusMessage(_0x142ee6,_0x5528d6=0xbb8){const _0x1a7aa5=_0x32cc00;let _0x1f801c=document[_0x1a7aa5(0x22c)]('statusMessage');!_0x1f801c&&(_0x1f801c=document['createElement'](_0x1a7aa5(0x278)),_0x1f801c['id']=_0x1a7aa5(0x214),_0x1f801c[_0x1a7aa5(0x21a)]=_0x1a7aa5(0x22f),document['querySelector'](_0x1a7aa5(0x1ef))[_0x1a7aa5(0x276)](_0x1f801c)),_0x1f801c['textContent']=_0x142ee6,_0x1f801c[_0x1a7aa5(0x236)][_0x1a7aa5(0x256)]=_0x1a7aa5(0x1d7),clearTimeout(_0x1f801c['timerId']),_0x1f801c[_0x1a7aa5(0x252)]=setTimeout(()=>{const _0x802c65=_0x1a7aa5;_0x1f801c[_0x802c65(0x236)]['display']='none';},_0x5528d6);}function toggleButtonsState(_0xd5da50){const _0x5b7ba6=_0x32cc00;setStartViewEl[_0x5b7ba6(0x277)]=_0xd5da50,downloadButtonEl['disabled']=_0xd5da50,resetHotspotsEl[_0x5b7ba6(0x277)]=_0xd5da50,resetAllEl[_0x5b7ba6(0x277)]=_0xd5da50;}function addHotspot(_0x270e1a,_0x481833){const _0x47c7a8=_0x32cc00;if(!viewer)return;const _0x9d3459='hotspot_'+Date[_0x47c7a8(0x255)](),_0x282879=_0x47c7a8(0x1f0)+(hotspots[_0x47c7a8(0x223)]+0x1),_0x150a66={'id':_0x9d3459,'pitch':_0x270e1a,'yaw':_0x481833,'type':_0x47c7a8(0x260),'text':_0x47c7a8(0x1d9),'sceneId':_0x282879,'cssClass':_0x47c7a8(0x249),'URL':''};hotspots['push'](_0x150a66),addHotspotToViewer(_0x150a66),updateHotspotList(),showStatusMessage('Hotspot\x20añadido');}function addHotspotToViewer(_0x443ca3){const _0x183eff=_0x32cc00,_0x420f75={'id':_0x443ca3['id'],'pitch':_0x443ca3[_0x183eff(0x202)],'yaw':_0x443ca3[_0x183eff(0x1dc)],'cssClass':_0x183eff(0x20c)+_0x443ca3[_0x183eff(0x1fc)],'createTooltipFunc':createCustomTooltip,'createTooltipArgs':{'type':_0x443ca3[_0x183eff(0x1fc)],'text':_0x443ca3[_0x183eff(0x20a)]},'clickHandlerFunc':()=>openHotspotModal(_0x443ca3['id'])};viewer[_0x183eff(0x1e5)](_0x420f75);}function createCustomTooltip(_0x4167f0,_0x1ceba3){const _0x472ef9=_0x32cc00;_0x4167f0[_0x472ef9(0x1d5)]['add'](_0x472ef9(0x261),_0x1ceba3['type']),_0x4167f0['style']['backgroundColor']=_0x1ceba3[_0x472ef9(0x1fc)]==='info'?'rgba(52,\x20152,\x20219,\x200.8)':_0x472ef9(0x210),_0x4167f0[_0x472ef9(0x236)][_0x472ef9(0x258)]=_0x472ef9(0x1ec),_0x4167f0[_0x472ef9(0x236)]['borderRadius']=_0x472ef9(0x20b),_0x4167f0[_0x472ef9(0x236)][_0x472ef9(0x1ee)]=_0x472ef9(0x250),_0x4167f0['style'][_0x472ef9(0x1e4)]='20px',_0x4167f0[_0x472ef9(0x236)][_0x472ef9(0x20f)]=_0x472ef9(0x1cb);const _0x57487e=document[_0x472ef9(0x237)](_0x472ef9(0x203));_0x57487e['innerHTML']=_0x1ceba3[_0x472ef9(0x20a)],_0x57487e[_0x472ef9(0x236)][_0x472ef9(0x27a)]=_0x472ef9(0x241),_0x57487e[_0x472ef9(0x236)][_0x472ef9(0x21d)]='absolute',_0x57487e[_0x472ef9(0x236)][_0x472ef9(0x1df)]=_0x472ef9(0x1f5),_0x57487e[_0x472ef9(0x236)][_0x472ef9(0x213)]='50%',_0x57487e[_0x472ef9(0x236)][_0x472ef9(0x253)]=_0x472ef9(0x229),_0x57487e['style']['backgroundColor']='rgba(0,\x200,\x200,\x200.7)',_0x57487e[_0x472ef9(0x236)][_0x472ef9(0x200)]=_0x472ef9(0x234),_0x57487e[_0x472ef9(0x236)][_0x472ef9(0x26f)]=_0x472ef9(0x1e8),_0x57487e[_0x472ef9(0x236)][_0x472ef9(0x23e)]=_0x472ef9(0x23a),_0x57487e['style']['whiteSpace']=_0x472ef9(0x263),_0x57487e[_0x472ef9(0x236)][_0x472ef9(0x24a)]='14px',_0x57487e[_0x472ef9(0x236)][_0x472ef9(0x226)]='10',_0x4167f0['addEventListener'](_0x472ef9(0x1f3),()=>_0x57487e[_0x472ef9(0x236)]['visibility']=_0x472ef9(0x22e)),_0x4167f0[_0x472ef9(0x257)]('mouseleave',()=>_0x57487e['style']['visibility']=_0x472ef9(0x241)),_0x4167f0['appendChild'](_0x57487e);}function updateHotspotList(){const _0x1521b8=_0x32cc00;hotspotContainerEl[_0x1521b8(0x1fd)]='',hotspots[_0x1521b8(0x251)](_0x58f32b=>{const _0x270262=_0x1521b8,_0x58156d=document[_0x270262(0x237)](_0x270262(0x278));_0x58156d[_0x270262(0x21a)]=_0x270262(0x232)+_0x58f32b['type'],_0x58156d['id']=_0x270262(0x22b)+_0x58f32b['id'];const _0x16bf3b=document[_0x270262(0x237)](_0x270262(0x278));_0x16bf3b[_0x270262(0x21a)]=_0x270262(0x230);const _0x5bac61=document[_0x270262(0x237)](_0x270262(0x278));_0x5bac61[_0x270262(0x21a)]=_0x270262(0x206)+_0x58f32b[_0x270262(0x1fc)],_0x16bf3b['appendChild'](_0x5bac61);const _0x51ed2c=document[_0x270262(0x237)](_0x270262(0x278));_0x51ed2c[_0x270262(0x21a)]=_0x270262(0x279),_0x51ed2c[_0x270262(0x25a)]=_0x270262(0x235)+_0x58f32b[_0x270262(0x202)][_0x270262(0x265)](0x1)+_0x270262(0x24f)+_0x58f32b[_0x270262(0x1dc)]['toFixed'](0x1),_0x16bf3b[_0x270262(0x276)](_0x51ed2c);const _0x133fa2=document[_0x270262(0x237)](_0x270262(0x278));_0x133fa2[_0x270262(0x21a)]='hotspot-text-preview',_0x133fa2[_0x270262(0x25a)]=_0x58f32b['text'],_0x16bf3b[_0x270262(0x276)](_0x133fa2),_0x58156d['appendChild'](_0x16bf3b);const _0x29f2b2=document[_0x270262(0x237)](_0x270262(0x278));_0x29f2b2[_0x270262(0x21a)]=_0x270262(0x25b);const _0x157783=document[_0x270262(0x237)]('button');_0x157783[_0x270262(0x21a)]=_0x270262(0x242),_0x157783[_0x270262(0x25a)]='Editar',_0x157783['addEventListener'](_0x270262(0x246),function(_0x24f1cc){_0x24f1cc['stopPropagation'](),openHotspotModal(_0x58f32b['id']);}),_0x29f2b2[_0x270262(0x276)](_0x157783);const _0x42e705=document[_0x270262(0x237)](_0x270262(0x1de));_0x42e705[_0x270262(0x21a)]=_0x270262(0x26b),_0x42e705[_0x270262(0x25a)]='Ver',_0x42e705[_0x270262(0x257)](_0x270262(0x246),function(_0x383eee){const _0x49534e=_0x270262;_0x383eee[_0x49534e(0x275)](),viewer['lookAt'](_0x58f32b[_0x49534e(0x202)],_0x58f32b[_0x49534e(0x1dc)]);}),_0x29f2b2['appendChild'](_0x42e705);const _0x23e084=document['createElement'](_0x270262(0x1de));_0x23e084['className']=_0x270262(0x20d),_0x23e084[_0x270262(0x25a)]=_0x270262(0x266),_0x23e084[_0x270262(0x257)]('click',function(_0x1ace0b){_0x1ace0b['stopPropagation'](),deleteHotspot(_0x58f32b['id']);}),_0x29f2b2[_0x270262(0x276)](_0x23e084),_0x58156d[_0x270262(0x276)](_0x29f2b2),_0x58156d['addEventListener'](_0x270262(0x246),function(){openHotspotModal(_0x58f32b['id']);}),hotspotContainerEl[_0x270262(0x276)](_0x58156d);});}function createTypeSelect(_0x5ed538,_0x344150=![]){const _0x291bbb=_0x32cc00,_0x433237=document[_0x291bbb(0x237)](_0x291bbb(0x278));_0x433237[_0x291bbb(0x21a)]=_0x291bbb(0x1eb);const _0x11eb30=document['createElement'](_0x291bbb(0x203));_0x11eb30[_0x291bbb(0x21a)]=_0x291bbb(0x1c9),_0x11eb30[_0x291bbb(0x25a)]=_0x291bbb(0x227),_0x433237[_0x291bbb(0x276)](_0x11eb30);const _0x30ee1d=document[_0x291bbb(0x237)](_0x291bbb(0x205));return _0x30ee1d[_0x291bbb(0x21a)]='hotspot-type-select',_0x30ee1d[_0x291bbb(0x1fd)]=_0x291bbb(0x1e3)+(_0x5ed538[_0x291bbb(0x1fc)]===_0x291bbb(0x260)?'selected':'')+_0x291bbb(0x268)+(_0x5ed538[_0x291bbb(0x1fc)]===_0x291bbb(0x1fb)?'selected':'')+'>Cambio\x20de\x20escena</option>\x0a\x20\x20\x20\x20',_0x30ee1d[_0x291bbb(0x257)]('change',function(){const _0x363b5e=_0x291bbb,_0x290bac=this['value'];if(_0x344150){const _0x3f9d84=document[_0x363b5e(0x22c)](_0x363b5e(0x1e7)),_0x407666=_0x3f9d84[_0x363b5e(0x1ea)](_0x363b5e(0x1f6)),_0x2e2a50=_0x3f9d84[_0x363b5e(0x1ea)](_0x363b5e(0x1c8)),_0x32ca7b=_0x3f9d84['querySelector']('input[placeholder=\x22https://...\x22]'),_0x207947=_0x3f9d84[_0x363b5e(0x1ea)](_0x363b5e(0x1d4));if(_0x290bac==='scene'){if(_0x407666)_0x407666[_0x363b5e(0x236)]['display']=_0x363b5e(0x1d7);if(_0x2e2a50)_0x2e2a50['style'][_0x363b5e(0x256)]='block';if(_0x32ca7b)_0x32ca7b[_0x363b5e(0x236)]['display']=_0x363b5e(0x25e);if(_0x207947)_0x207947[_0x363b5e(0x236)][_0x363b5e(0x256)]=_0x363b5e(0x25e);}else{if(_0x407666)_0x407666['style'][_0x363b5e(0x256)]=_0x363b5e(0x25e);if(_0x2e2a50)_0x2e2a50[_0x363b5e(0x236)][_0x363b5e(0x256)]=_0x363b5e(0x25e);if(_0x32ca7b)_0x32ca7b['style'][_0x363b5e(0x256)]=_0x363b5e(0x1d7);if(_0x207947)_0x207947[_0x363b5e(0x236)][_0x363b5e(0x256)]=_0x363b5e(0x1d7);}}else{_0x5ed538[_0x363b5e(0x1fc)]=_0x290bac,_0x5ed538['cssClass']=_0x363b5e(0x20c)+_0x290bac;const _0x39ab91=document[_0x363b5e(0x22c)](_0x363b5e(0x22b)+_0x5ed538['id']);if(_0x39ab91){_0x290bac===_0x363b5e(0x1fb)?(_0x5ed538[_0x363b5e(0x20a)]='Ir\x20a\x20otra\x20escena',_0x5ed538['sceneId']=_0x5ed538[_0x363b5e(0x1c7)]||_0x363b5e(0x1f0)+(hotspots[_0x363b5e(0x223)]+0x1),_0x39ab91[_0x363b5e(0x21a)]='hotspot-item\x20scene'):(_0x5ed538[_0x363b5e(0x20a)]=_0x363b5e(0x1d9),_0x39ab91['className']=_0x363b5e(0x262));const _0x349f34=_0x39ab91[_0x363b5e(0x1ea)](_0x363b5e(0x245));if(_0x349f34)_0x349f34['textContent']=_0x5ed538['text'];const _0x2dce3c=_0x39ab91['querySelector'](_0x363b5e(0x20e));_0x2dce3c&&(_0x2dce3c[_0x363b5e(0x21a)]=_0x363b5e(0x206)+_0x290bac);}updateJsonPreview();}}),_0x433237[_0x291bbb(0x276)](_0x30ee1d),_0x433237;}function createTextInput(_0x1dec79){const _0x2d3615=_0x32cc00,_0x2084ea=document[_0x2d3615(0x237)](_0x2d3615(0x278));_0x2084ea[_0x2d3615(0x21a)]=_0x2d3615(0x1eb);const _0x4d5ed1=document[_0x2d3615(0x237)](_0x2d3615(0x203));_0x4d5ed1[_0x2d3615(0x21a)]='input-label',_0x4d5ed1[_0x2d3615(0x25a)]=_0x2d3615(0x21b),_0x2084ea[_0x2d3615(0x276)](_0x4d5ed1);const _0x31eda2=document[_0x2d3615(0x237)]('input');return _0x31eda2[_0x2d3615(0x1fc)]=_0x2d3615(0x20a),_0x31eda2[_0x2d3615(0x220)]=_0x1dec79[_0x2d3615(0x20a)],_0x31eda2['placeholder']='Texto\x20del\x20hotspot',_0x31eda2['addEventListener'](_0x2d3615(0x239),function(){const _0x415eed=_0x2d3615;_0x1dec79[_0x415eed(0x20a)]=this[_0x415eed(0x220)],updateJsonPreview();}),_0x2084ea[_0x2d3615(0x276)](_0x31eda2),_0x2084ea;}function createUrlInput(_0x2a827e){const _0x1eb78c=_0x32cc00,_0x56b4ce=document[_0x1eb78c(0x237)]('div');_0x56b4ce[_0x1eb78c(0x21a)]=_0x1eb78c(0x1eb);const _0x2915e3=document[_0x1eb78c(0x237)]('span');_0x2915e3['className']=_0x1eb78c(0x270),_0x2915e3[_0x1eb78c(0x25a)]=_0x1eb78c(0x221),_0x56b4ce['appendChild'](_0x2915e3);const _0x1347bc=document[_0x1eb78c(0x237)]('input');return _0x1347bc[_0x1eb78c(0x1fc)]=_0x1eb78c(0x20a),_0x1347bc[_0x1eb78c(0x220)]=_0x2a827e[_0x1eb78c(0x24c)]||'',_0x1347bc[_0x1eb78c(0x1cf)]=_0x1eb78c(0x201),_0x2a827e['type']!=='info'&&(_0x1347bc[_0x1eb78c(0x236)][_0x1eb78c(0x256)]=_0x1eb78c(0x25e),_0x2915e3[_0x1eb78c(0x236)][_0x1eb78c(0x256)]=_0x1eb78c(0x25e)),_0x1347bc[_0x1eb78c(0x257)](_0x1eb78c(0x239),function(){const _0x41a9e2=_0x1eb78c;_0x2a827e[_0x41a9e2(0x24c)]=this['value'],updateJsonPreview();}),_0x56b4ce[_0x1eb78c(0x276)](_0x1347bc),_0x56b4ce;}function createSceneIdInput(_0x21b9fd){const _0x5e8b9e=_0x32cc00,_0x4473f0=document[_0x5e8b9e(0x237)]('div');_0x4473f0[_0x5e8b9e(0x21a)]=_0x5e8b9e(0x1eb);const _0x71ea4e=document[_0x5e8b9e(0x237)](_0x5e8b9e(0x203));_0x71ea4e['className']=_0x5e8b9e(0x26a),_0x71ea4e[_0x5e8b9e(0x25a)]=_0x5e8b9e(0x21c),_0x4473f0[_0x5e8b9e(0x276)](_0x71ea4e);const _0x233aae=document[_0x5e8b9e(0x237)](_0x5e8b9e(0x239));return _0x233aae[_0x5e8b9e(0x1fc)]='text',_0x233aae[_0x5e8b9e(0x220)]=_0x21b9fd['sceneId']||'',_0x233aae[_0x5e8b9e(0x1cf)]=_0x5e8b9e(0x274),_0x21b9fd[_0x5e8b9e(0x1fc)]!=='scene'&&(_0x233aae[_0x5e8b9e(0x236)][_0x5e8b9e(0x256)]=_0x5e8b9e(0x25e),_0x71ea4e[_0x5e8b9e(0x236)]['display']=_0x5e8b9e(0x25e)),_0x233aae[_0x5e8b9e(0x257)]('input',function(){const _0x1d1145=_0x5e8b9e;_0x21b9fd[_0x1d1145(0x1c7)]=this[_0x1d1145(0x220)],updateJsonPreview();}),_0x4473f0[_0x5e8b9e(0x276)](_0x233aae),_0x4473f0;}function createActionsDiv(_0x51b0e7){const _0x20ff28=_0x32cc00,_0x185905=document[_0x20ff28(0x237)](_0x20ff28(0x278));_0x185905['className']='hotspot-actions';const _0x2e1cc4=document[_0x20ff28(0x237)]('button');_0x2e1cc4[_0x20ff28(0x21a)]=_0x20ff28(0x26b),_0x2e1cc4[_0x20ff28(0x25a)]=_0x20ff28(0x1f2),_0x2e1cc4[_0x20ff28(0x257)](_0x20ff28(0x246),function(){const _0x10b183=_0x20ff28;viewer[_0x10b183(0x240)](_0x51b0e7[_0x10b183(0x202)],_0x51b0e7[_0x10b183(0x1dc)]);}),_0x185905['appendChild'](_0x2e1cc4);const _0x471273=document[_0x20ff28(0x237)]('button');return _0x471273[_0x20ff28(0x21a)]=_0x20ff28(0x20d),_0x471273[_0x20ff28(0x25a)]=_0x20ff28(0x266),_0x471273['addEventListener'](_0x20ff28(0x246),function(){deleteHotspot(_0x51b0e7['id']);}),_0x185905['appendChild'](_0x471273),_0x185905;}function createHotspotModal(){const _0x5e20d1=_0x32cc00;if(!document[_0x5e20d1(0x22c)](_0x5e20d1(0x25d))){const _0x3cdcb6=document['createElement']('div');_0x3cdcb6['id']=_0x5e20d1(0x25d),_0x3cdcb6[_0x5e20d1(0x21a)]=_0x5e20d1(0x243);const _0x45d292=document[_0x5e20d1(0x237)]('div');_0x45d292[_0x5e20d1(0x21a)]=_0x5e20d1(0x269);const _0x18822e=document[_0x5e20d1(0x237)](_0x5e20d1(0x278));_0x18822e[_0x5e20d1(0x21a)]=_0x5e20d1(0x23c);const _0x3367a5=document[_0x5e20d1(0x237)]('h4');_0x3367a5['className']=_0x5e20d1(0x1d8),_0x3367a5['textContent']=_0x5e20d1(0x1d3);const _0x2d2a57=document[_0x5e20d1(0x237)](_0x5e20d1(0x1de));_0x2d2a57[_0x5e20d1(0x21a)]=_0x5e20d1(0x1d2),_0x2d2a57[_0x5e20d1(0x1fd)]=_0x5e20d1(0x204),_0x2d2a57[_0x5e20d1(0x257)](_0x5e20d1(0x246),closeModal),_0x18822e[_0x5e20d1(0x276)](_0x3367a5),_0x18822e[_0x5e20d1(0x276)](_0x2d2a57);const _0x43d16e=document[_0x5e20d1(0x237)](_0x5e20d1(0x278));_0x43d16e['className']=_0x5e20d1(0x231),_0x43d16e['id']=_0x5e20d1(0x1e7);const _0x25a439=document[_0x5e20d1(0x237)](_0x5e20d1(0x278));_0x25a439[_0x5e20d1(0x21a)]=_0x5e20d1(0x212);const _0x3e9620=document[_0x5e20d1(0x237)](_0x5e20d1(0x1de));_0x3e9620[_0x5e20d1(0x25a)]=_0x5e20d1(0x215),_0x3e9620[_0x5e20d1(0x257)](_0x5e20d1(0x246),saveHotspotChanges);const _0x5de461=document['createElement'](_0x5e20d1(0x1de));_0x5de461[_0x5e20d1(0x25a)]='Cancelar',_0x5de461[_0x5e20d1(0x21a)]=_0x5e20d1(0x20d),_0x5de461[_0x5e20d1(0x257)](_0x5e20d1(0x246),closeModal),_0x25a439[_0x5e20d1(0x276)](_0x5de461),_0x25a439['appendChild'](_0x3e9620),_0x45d292['appendChild'](_0x18822e),_0x45d292[_0x5e20d1(0x276)](_0x43d16e),_0x45d292[_0x5e20d1(0x276)](_0x25a439),_0x3cdcb6['appendChild'](_0x45d292),_0x3cdcb6[_0x5e20d1(0x257)](_0x5e20d1(0x246),function(_0x5d5038){const _0x2e07f0=_0x5e20d1;_0x5d5038[_0x2e07f0(0x1f7)]===_0x3cdcb6&&closeModal();}),document[_0x5e20d1(0x21f)][_0x5e20d1(0x276)](_0x3cdcb6);}}function openHotspotModal(_0x5b64f4){const _0x42d8c2=_0x32cc00;createHotspotModal();const _0x252df9=document[_0x42d8c2(0x22c)]('hotspotModal'),_0x10d534=document[_0x42d8c2(0x22c)](_0x42d8c2(0x1e7)),_0x553f58=hotspots['find'](_0x1f8a0b=>_0x1f8a0b['id']===_0x5b64f4);if(!_0x553f58)return;_0x252df9['setAttribute'](_0x42d8c2(0x1e2),_0x5b64f4),_0x10d534['innerHTML']='';const _0xa83637=document[_0x42d8c2(0x237)](_0x42d8c2(0x278));_0xa83637[_0x42d8c2(0x21a)]=_0x42d8c2(0x1f4),_0xa83637['innerHTML']=_0x42d8c2(0x1e9)+_0x553f58['pitch'][_0x42d8c2(0x265)](0x2)+_0x42d8c2(0x248)+_0x553f58[_0x42d8c2(0x1dc)][_0x42d8c2(0x265)](0x2),_0x10d534[_0x42d8c2(0x276)](_0xa83637);const _0x2f5c8d=createTypeSelect(_0x553f58,!![]);_0x10d534['appendChild'](_0x2f5c8d);const _0x147de4=createTextInput(_0x553f58);_0x10d534[_0x42d8c2(0x276)](_0x147de4);const _0x4091b6=createUrlInput(_0x553f58,!![]);_0x10d534[_0x42d8c2(0x276)](_0x4091b6);const _0x44d5ac=createSceneIdInput(_0x553f58,!![]);_0x10d534[_0x42d8c2(0x276)](_0x44d5ac),_0x252df9['style'][_0x42d8c2(0x256)]='flex';}function closeModal(){const _0x242c43=_0x32cc00,_0x514a03=document[_0x242c43(0x22c)](_0x242c43(0x25d));_0x514a03&&(_0x514a03[_0x242c43(0x236)][_0x242c43(0x256)]=_0x242c43(0x25e));}function saveHotspotChanges(){const _0x3449a2=_0x32cc00,_0x1b979e=document[_0x3449a2(0x22c)](_0x3449a2(0x25d)),_0x585038=_0x1b979e[_0x3449a2(0x259)](_0x3449a2(0x1e2)),_0x16ab57=hotspots[_0x3449a2(0x23f)](_0x42953f=>_0x42953f['id']===_0x585038);if(_0x16ab57===-0x1)return;const _0x2c45fc=_0x1b979e[_0x3449a2(0x1ea)]('.hotspot-type-select'),_0x3bb471=_0x1b979e['querySelector'](_0x3449a2(0x1e1)),_0x1e7fec=_0x1b979e[_0x3449a2(0x1ea)](_0x3449a2(0x238)),_0x2e4115=_0x1b979e[_0x3449a2(0x1ea)](_0x3449a2(0x1f6));hotspots[_0x16ab57][_0x3449a2(0x1fc)]=_0x2c45fc['value'],hotspots[_0x16ab57][_0x3449a2(0x20a)]=_0x3bb471[_0x3449a2(0x220)],hotspots[_0x16ab57][_0x3449a2(0x1f9)]=_0x3449a2(0x20c)+_0x2c45fc[_0x3449a2(0x220)];if(_0x2c45fc[_0x3449a2(0x220)]===_0x3449a2(0x260))hotspots[_0x16ab57][_0x3449a2(0x24c)]=_0x1e7fec[_0x3449a2(0x220)]||'';else _0x2c45fc[_0x3449a2(0x220)]===_0x3449a2(0x1fb)&&(hotspots[_0x16ab57][_0x3449a2(0x1c7)]=_0x2e4115[_0x3449a2(0x220)]||'');updateHotspotInViewer(hotspots[_0x16ab57]),updateHotspotList(),updateJsonPreview(),closeModal(),showStatusMessage('Hotspot\x20actualizado\x20correctamente');}function deleteHotspot(_0x1d9687){const _0x3a1854=_0x32cc00,_0x430af9=hotspots['findIndex'](_0x34126d=>_0x34126d['id']===_0x1d9687);_0x430af9!==-0x1&&(viewer['removeHotSpot'](_0x1d9687),hotspots[_0x3a1854(0x1f1)](_0x430af9,0x1),updateHotspotList(),showStatusMessage('Hotspot\x20eliminado'));}function _0x5a8f(_0x364f99,_0x45b1ef){const _0x8cc70d=_0x8cc7();return _0x5a8f=function(_0x5a8fbc,_0x6c371){_0x5a8fbc=_0x5a8fbc-0x1c7;let _0x151ab3=_0x8cc70d[_0x5a8fbc];return _0x151ab3;},_0x5a8f(_0x364f99,_0x45b1ef);}function updateHotspotInViewer(_0x19444b){const _0x2d5880=_0x32cc00;if(!viewer)return;viewer[_0x2d5880(0x21e)](_0x19444b['id']),addHotspotToViewer(_0x19444b);}sceneNameEl[_0x32cc00(0x257)](_0x32cc00(0x239),updateJsonPreview),window['addEventListener'](_0x32cc00(0x247),function(_0x2b4884){const _0x4bdbbe=_0x32cc00;console[_0x4bdbbe(0x247)](_0x4bdbbe(0x1fa),_0x2b4884[_0x4bdbbe(0x1ff)]),showStatusMessage(_0x4bdbbe(0x1f8),0x1388);});